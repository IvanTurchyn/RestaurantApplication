{"ast":null,"code":"import { OrderStatus } from '../models/order';\nimport { UserRole } from '../models/user';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../order.service\";\nimport * as i3 from \"../auth/auth.service\";\nclass OrderDetailsComponent {\n  constructor(route, orderService, authService) {\n    this.route = route;\n    this.orderService = orderService;\n    this.authService = authService;\n    this.order = null;\n    this.currentUser = null;\n  }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.getOrderById(id);\n    }\n    this.currentUser = this.authService.currentUserValue;\n  }\n  getOrderById(id) {\n    this.orderService.getOrderById(id).subscribe(order => this.order = order);\n  }\n  updateOrderStatus() {\n    if (this.order) {\n      this.order.status = OrderStatus.READY_FOR_PICKUP;\n      this.orderService.updateOrder(this.order.id, this.order).subscribe();\n    }\n  }\n  isChef() {\n    return this.currentUser?.role === UserRole.CHEF;\n  }\n}\nOrderDetailsComponent.ɵfac = function OrderDetailsComponent_Factory(t) {\n  return new (t || OrderDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.OrderService), i0.ɵɵdirectiveInject(i3.AuthService));\n};\nOrderDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrderDetailsComponent,\n  selectors: [[\"app-order-details\"]],\n  decls: 0,\n  vars: 0,\n  template: function OrderDetailsComponent_Template(rf, ctx) {},\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { OrderDetailsComponent };","map":{"version":3,"names":["OrderStatus","UserRole","OrderDetailsComponent","constructor","route","orderService","authService","order","currentUser","ngOnInit","id","snapshot","paramMap","get","getOrderById","currentUserValue","subscribe","updateOrderStatus","status","READY_FOR_PICKUP","updateOrder","isChef","role","CHEF","i0","ɵɵdirectiveInject","i1","ActivatedRoute","i2","OrderService","i3","AuthService","selectors","decls","vars","template","OrderDetailsComponent_Template","rf","ctx","styles"],"sources":["D:\\Записи занятий ClickMeeteeng\\Desktop\\Inzeneria oprogramowania\\Cwiczenia\\RestaurantApplication\\frontend\\restaurant-app\\src\\app\\order-details\\order-details.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { OrderService } from '../order.service';\nimport { Order, OrderStatus } from '../models/order';\nimport { User, UserRole } from '../models/user';\nimport {AuthService} from \"../auth/auth.service\";\n\n@Component({\n  selector: 'app-order-details',\n  templateUrl: './order-details.component.html',\n  styleUrls: ['./order-details.component.scss']\n})\nexport class OrderDetailsComponent implements OnInit {\n  order: Order | null = null;\n  currentUser: User | null = null;\n\n  constructor(\n    private route: ActivatedRoute,\n    private orderService: OrderService,\n    private authService: AuthService\n  ) { }\n\n  ngOnInit(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.getOrderById(id);\n    }\n    this.currentUser = this.authService.currentUserValue;\n  }\n\n  getOrderById(id: string): void {\n    this.orderService.getOrderById(id).subscribe(order => this.order = order);\n  }\n\n  updateOrderStatus(): void {\n    if (this.order) {\n      this.order.status = OrderStatus.READY_FOR_PICKUP;\n      this.orderService.updateOrder(this.order.id, this.order).subscribe();\n    }\n  }\n\n  isChef(): boolean {\n    return this.currentUser?.role === UserRole.CHEF;\n  }\n}\n"],"mappings":"AAGA,SAAgBA,WAAW,QAAQ,iBAAiB;AACpD,SAAeC,QAAQ,QAAQ,gBAAgB;;;;;AAG/C,MAKaC,qBAAqB;EAIhCC,YACUC,KAAqB,EACrBC,YAA0B,EAC1BC,WAAwB;IAFxB,KAAAF,KAAK,GAALA,KAAK;IACL,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,WAAW,GAAXA,WAAW;IANrB,KAAAC,KAAK,GAAiB,IAAI;IAC1B,KAAAC,WAAW,GAAgB,IAAI;EAM3B;EAEJC,QAAQA,CAAA;IACN,MAAMC,EAAE,GAAG,IAAI,CAACN,KAAK,CAACO,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACjD,IAAIH,EAAE,EAAE;MACN,IAAI,CAACI,YAAY,CAACJ,EAAE,CAAC;;IAEvB,IAAI,CAACF,WAAW,GAAG,IAAI,CAACF,WAAW,CAACS,gBAAgB;EACtD;EAEAD,YAAYA,CAACJ,EAAU;IACrB,IAAI,CAACL,YAAY,CAACS,YAAY,CAACJ,EAAE,CAAC,CAACM,SAAS,CAACT,KAAK,IAAI,IAAI,CAACA,KAAK,GAAGA,KAAK,CAAC;EAC3E;EAEAU,iBAAiBA,CAAA;IACf,IAAI,IAAI,CAACV,KAAK,EAAE;MACd,IAAI,CAACA,KAAK,CAACW,MAAM,GAAGlB,WAAW,CAACmB,gBAAgB;MAChD,IAAI,CAACd,YAAY,CAACe,WAAW,CAAC,IAAI,CAACb,KAAK,CAACG,EAAE,EAAE,IAAI,CAACH,KAAK,CAAC,CAACS,SAAS,EAAE;;EAExE;EAEAK,MAAMA,CAAA;IACJ,OAAO,IAAI,CAACb,WAAW,EAAEc,IAAI,KAAKrB,QAAQ,CAACsB,IAAI;EACjD;;AA/BWrB,qBAAqB,C;mBAArBA,qBAAqB,EAAAsB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,YAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAK,EAAA,CAAAC,WAAA;AAAA;AAArB7B,qBAAqB,C;QAArBA,qBAAqB;EAAA8B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,QAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;EAAAC,MAAA;AAAA;SAArBrC,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}