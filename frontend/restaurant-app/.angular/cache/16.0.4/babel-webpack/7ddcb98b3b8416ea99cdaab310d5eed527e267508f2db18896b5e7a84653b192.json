{"ast":null,"code":"import { UserRole } from '../models/user';\nimport { OrderStatus } from '../models/order';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth/auth.service\";\nimport * as i2 from \"../order.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction ProfileComponent_div_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"You have access to all functionalities:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\")(4, \"li\")(5, \"a\", 2);\n    i0.ɵɵtext(6, \"Menu\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\")(8, \"a\", 3);\n    i0.ɵɵtext(9, \"Order\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"li\")(11, \"a\", 4);\n    i0.ɵɵtext(12, \"User\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction ProfileComponent_div_0_div_4_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_div_4_div_12_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const order_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r7.updateOrderStatus(order_r6));\n    });\n    i0.ɵɵtext(6, \"Zmie\\u0144 status na 'READY_FOR_PICKUP'\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const order_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Order ID: \", order_r6.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Status: \", order_r6.status, \"\");\n  }\n}\nfunction ProfileComponent_div_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"You have access to:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\")(4, \"li\")(5, \"a\", 2);\n    i0.ɵɵtext(6, \"Menu\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\")(8, \"a\", 3);\n    i0.ɵɵtext(9, \"Order\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"h2\");\n    i0.ɵɵtext(11, \"Orders:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, ProfileComponent_div_0_div_4_div_12_Template, 7, 2, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.orders);\n  }\n}\nfunction ProfileComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"You have access to:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\")(4, \"li\")(5, \"a\", 2);\n    i0.ɵɵtext(6, \"Menu\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\")(8, \"a\", 3);\n    i0.ɵɵtext(9, \"Order\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction ProfileComponent_div_0_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"You have access to:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\")(4, \"li\")(5, \"a\", 2);\n    i0.ɵɵtext(6, \"Menu\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\")(8, \"a\", 3);\n    i0.ɵɵtext(9, \"Order\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction ProfileComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ProfileComponent_div_0_div_3_Template, 13, 0, \"div\", 0);\n    i0.ɵɵtemplate(4, ProfileComponent_div_0_div_4_Template, 13, 1, \"div\", 0);\n    i0.ɵɵtemplate(5, ProfileComponent_div_0_div_5_Template, 10, 0, \"div\", 0);\n    i0.ɵɵtemplate(6, ProfileComponent_div_0_div_6_Template, 10, 0, \"div\", 0);\n    i0.ɵɵelementStart(7, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.authService.logout());\n    });\n    i0.ɵɵtext(8, \"Logout\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Welcome, \", ctx_r0.currentUser.username, \"!\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentUser.role === ctx_r0.UserRole.MANAGER);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentUser.role === ctx_r0.UserRole.CHEF);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentUser.role === ctx_r0.UserRole.WAITER);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentUser.role === ctx_r0.UserRole.CLIENT);\n  }\n}\nclass ProfileComponent {\n  constructor(authService, orderService) {\n    this.authService = authService;\n    this.orderService = orderService;\n    this.currentUser = null;\n    this.UserRole = UserRole;\n    this.orders = [];\n  }\n  ngOnInit() {\n    this.currentUser = this.authService.currentUserValue;\n    if (this.currentUser?.role === UserRole.CHEF) {\n      this.getOrders();\n    }\n  }\n  getOrders() {\n    this.orderService.getOrders().subscribe(orders => this.orders = orders);\n  }\n  updateOrderStatus(order) {\n    order.status = OrderStatus.READY_FOR_PICKUP;\n    this.orderService.updateOrder(order.id, order).subscribe(() => this.getOrders());\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.OrderService));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [3, \"click\"], [\"routerLink\", \"/menu\"], [\"routerLink\", \"/order\"], [\"routerLink\", \"/user\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProfileComponent_div_0_Template, 9, 5, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.currentUser);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ProfileComponent };","map":{"version":3,"names":["UserRole","OrderStatus","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ProfileComponent_div_0_div_4_div_12_Template_button_click_5_listener","restoredCtx","ɵɵrestoreView","_r8","order_r6","$implicit","ctx_r7","ɵɵnextContext","ɵɵresetView","updateOrderStatus","ɵɵadvance","ɵɵtextInterpolate1","id","status","ɵɵtemplate","ProfileComponent_div_0_div_4_div_12_Template","ɵɵproperty","ctx_r2","orders","ProfileComponent_div_0_div_3_Template","ProfileComponent_div_0_div_4_Template","ProfileComponent_div_0_div_5_Template","ProfileComponent_div_0_div_6_Template","ProfileComponent_div_0_Template_button_click_7_listener","_r10","ctx_r9","authService","logout","ctx_r0","currentUser","username","role","MANAGER","CHEF","WAITER","CLIENT","ProfileComponent","constructor","orderService","ngOnInit","currentUserValue","getOrders","subscribe","order","READY_FOR_PICKUP","updateOrder","ɵɵdirectiveInject","i1","AuthService","i2","OrderService","selectors","decls","vars","consts","template","ProfileComponent_Template","rf","ctx","ProfileComponent_div_0_Template"],"sources":["D:\\Записи занятий ClickMeeteeng\\Desktop\\Inzeneria oprogramowania\\Cwiczenia\\RestaurantApplication\\frontend\\restaurant-app\\src\\app\\profile\\profile.component.ts","D:\\Записи занятий ClickMeeteeng\\Desktop\\Inzeneria oprogramowania\\Cwiczenia\\RestaurantApplication\\frontend\\restaurant-app\\src\\app\\profile\\profile.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth/auth.service';\nimport { OrderService } from '../order.service';\nimport { User, UserRole } from '../models/user';\nimport { Order, OrderStatus } from '../models/order';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss']\n})\nexport class ProfileComponent implements OnInit {\n  currentUser: User | null = null;\n  UserRole = UserRole;\n  orders: Order[] = [];\n\n  constructor(public authService: AuthService, private orderService: OrderService) {}\n\n  ngOnInit(): void {\n    this.currentUser = this.authService.currentUserValue;\n    if (this.currentUser?.role === UserRole.CHEF) {\n      this.getOrders();\n    }\n  }\n\n  getOrders(): void {\n    this.orderService.getOrders().subscribe(orders => this.orders = orders);\n  }\n\n  updateOrderStatus(order: Order): void {\n    order.status = OrderStatus.READY_FOR_PICKUP;\n    this.orderService.updateOrder(order.id, order).subscribe(() => this.getOrders());\n  }\n}\n","<div *ngIf=\"currentUser\">\n  <h1>Welcome, {{currentUser.username}}!</h1>\n\n  <div *ngIf=\"currentUser.role === UserRole.MANAGER\">\n    <p>You have access to all functionalities:</p>\n    <ul>\n      <li><a routerLink=\"/menu\">Menu</a></li>\n      <li><a routerLink=\"/order\">Order</a></li>\n      <li><a routerLink=\"/user\">User</a></li>\n    </ul>\n  </div>\n\n  <div *ngIf=\"currentUser.role === UserRole.CHEF\">\n    <p>You have access to:</p>\n    <ul>\n      <li><a routerLink=\"/menu\">Menu</a></li>\n      <li><a routerLink=\"/order\">Order</a></li>\n    </ul>\n\n    <h2>Orders:</h2>\n    <div *ngFor=\"let order of orders\">\n      <p>Order ID: {{order.id}}</p>\n      <p>Status: {{order.status}}</p>\n      <button (click)=\"updateOrderStatus(order)\">Zmień status na 'READY_FOR_PICKUP'</button>\n    </div>\n  </div>\n\n  <div *ngIf=\"currentUser.role === UserRole.WAITER\">\n    <p>You have access to:</p>\n    <ul>\n      <li><a routerLink=\"/menu\">Menu</a></li>\n      <li><a routerLink=\"/order\">Order</a></li>\n    </ul>\n  </div>\n\n  <div *ngIf=\"currentUser.role === UserRole.CLIENT\">\n    <p>You have access to:</p>\n    <ul>\n      <li><a routerLink=\"/menu\">Menu</a></li>\n      <li><a routerLink=\"/order\">Order</a></li>\n    </ul>\n  </div>\n\n  <button (click)=\"authService.logout()\">Logout</button>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}